<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calculaor</title>
</head>
<body>
	<p>Calculator</p>
	<p class="js-calculation"></p>
	<p>
		<button onclick=" updateCalculation('1'); ">1</button>
		<button onclick=" updateCalculation('2'); ">2</button>
		<button onclick=" updateCalculation('3'); ">3</button>
		<button onclick=" updateCalculation(' + '); ">+</button>
	</p>
  <p>
		<button onclick=" updateCalculation('4'); ">4</button>
		<button onclick=" updateCalculation('5'); ">5</button>
		<button onclick=" updateCalculation('6'); ">6</button>
		<button onclick=" updateCalculation(' - '); ">-</button>
  </p>
  <p>
		<button onclick=" updateCalculation('7'); ">7</button>
		<button onclick=" updateCalculation('8'); ">8</button>
		<button onclick=" updateCalculation('9'); ">9</button>
		<button onclick=" updateCalculation(' * '); ">*</button>
  </p>
	<p>
		<button onclick=" updateCalculation('0'); ">0</button>
		<button onclick=" updateCalculation('.'); ">.</button>
		<button onclick=" calcResult() ">=</button>
		<button onclick=" updateCalculation(' / ') ">/</button>
	</p>
	<p>
			<button onclick=" clearCalc() ">Clear</button>
	</p>

    <!-- js -->
    <script>
      let calculation = JSON.parse(localStorage.getItem('calc')) || ``;
			showCalc();
        
      function updateCalculation(value) {
				calculation += value;
				showCalc();
				localStorage.setItem('calc', JSON.stringify(calculation));
			}

			function calcResult() {
				try {
					calculation = eval(calculation);
					localStorage.setItem('calc', JSON.stringify(calculation)); 
					showCalc();
				} catch(error) {
					console.log("Error: Invalid Calculation");
          showCalc();
					localStorage.removeItem('calc')
				}
			}

			function clearCalc() {
				calculation = ``;
				console.log('cleared');
				showCalc();
				localStorage.removeItem('calc');
			}

			function showCalc() {
				let display = document.querySelector('.js-calculation');
				display.innerHTML = calculation;
			}
    </script>
</body>
</html>